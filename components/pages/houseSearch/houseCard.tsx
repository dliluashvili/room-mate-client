import React from "react";
import ImgPreview from "./imgsPreviev";
import Link from "next/link";
import { Flats } from "../../../services/flats/flats.http";

const HouseCard = ({ data, isAuth, addRemoveFavorite }: any) => {
  return (
    <Link href={"/house/" + data.id}>
      <a className="houseCard_link">
        <div className="houseCard">
          <div className="houseCard_imageBLock">
            <ImgPreview images={data.images} />
            {isAuth ? (
              <svg
                onClick={(e) => {
                  e.stopPropagation();
                  e.preventDefault();

                  Flats.saveRemoveFlat(data.id)
                    .then((res) => {
                      console.log("rrr");
                      if (data.isFavourite === 1) {
                        addRemoveFavorite("remove", data.id);
                      } else {
                        addRemoveFavorite("add", data.id);
                      }
                    })
                    .catch((err) => {
                      console.log(err);
                    });
                }}
                className="cardLike"
                width="19"
                height="16"
                viewBox="0 0 19 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.1558 1.09402C15.1222 -0.573804 12.0979 -0.273809 10.2313 1.57973L9.50027 2.30471L8.76923 1.57973C6.90638 -0.273809 3.87831 -0.573804 1.84476 1.09402C-0.485668 3.00827 -0.608127 6.44392 1.47738 8.51889L8.65791 15.6545C9.12176 16.1152 9.87507 16.1152 10.3389 15.6545L17.5195 8.51889C19.6087 6.44392 19.4862 3.00827 17.1558 1.09402Z"
                  fill={data.isFavourite === 1 ? "#cb2525" : "white"}
                />
              </svg>
            ) : null}
          </div>
          <div className="houseCard_body">
            <div>
              <svg
                width="16"
                className="mr-10"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.08487 14.2901H1.39461C1.34276 14.2901 1.29138 14.2929 1.23999 14.2901C1.09776 14.2791 0.991784 14.1772 1.0005 14.0496C1.01059 13.9027 1.09685 13.8164 1.24412 13.8127C1.46709 13.8063 1.69053 13.8105 1.91396 13.8105H3.11371V2.16584C3.11371 2.11398 3.11371 2.06259 3.11371 2.01118C3.11784 1.78949 3.19354 1.71146 3.41423 1.711C4.23272 1.711 5.05121 1.711 5.8697 1.711H6.08441C6.08441 1.56687 6.08441 1.43193 6.08441 1.2979C6.08992 1.06841 6.19866 0.978887 6.42346 1.00413C7.91822 1.17335 9.41313 1.34164 10.9082 1.50902C11.482 1.57389 12.0558 1.64045 12.6296 1.70869C12.8131 1.73072 12.8778 1.80324 12.8842 1.98776C12.8842 2.04513 12.8842 2.10252 12.8842 2.15943V13.8105H13.1338C13.666 13.8105 14.1987 13.8105 14.7309 13.8105C14.8956 13.8105 15.0062 13.9197 14.9997 14.0588C14.9933 14.1979 14.8892 14.2832 14.7304 14.2883C14.6905 14.2883 14.6501 14.2883 14.6102 14.2883C14.1354 14.2883 13.6587 14.2658 13.1852 14.2933C12.4612 14.3355 11.7377 14.4007 11.016 14.4769C9.84424 14.5999 8.67615 14.7395 7.50347 14.8717C7.15112 14.9116 6.7983 14.9488 6.44824 14.9914C6.19086 15.0231 6.08854 14.9368 6.08579 14.6738C6.08396 14.5554 6.08487 14.4352 6.08487 14.2901ZM6.57441 14.4957L12.3892 13.8371V2.16127L6.57441 1.50445V14.4957ZM6.07248 13.7999V3.29909H4.70298V13.7981L6.07248 13.7999ZM6.07707 2.20074H3.60646V13.7981H4.21298V5.08366C4.21298 4.42501 4.21298 3.76635 4.21298 3.10769C4.21298 2.88646 4.29282 2.80889 4.51258 2.80751C4.78143 2.80751 5.05075 2.80751 5.3196 2.80751H6.07661L6.07707 2.20074ZM8.31554 8.00101C8.31554 8.09547 8.29684 8.18898 8.26052 8.27616C8.2242 8.36335 8.17097 8.44246 8.10391 8.50895C8.03685 8.57544 7.95729 8.62797 7.86983 8.66353C7.78236 8.69908 7.68872 8.71695 7.59431 8.7161C7.40665 8.71225 7.22804 8.63472 7.09705 8.50024C6.96605 8.36575 6.89319 8.18511 6.89419 7.99734C6.89412 7.90289 6.91278 7.80935 6.94909 7.72217C6.9854 7.63498 7.03863 7.55589 7.10571 7.48942C7.17278 7.42296 7.25237 7.37045 7.33986 7.33496C7.42736 7.29948 7.52101 7.2817 7.61542 7.28268C7.80307 7.28629 7.98176 7.3637 8.11279 7.49814C8.24382 7.63258 8.31666 7.81325 8.31554 8.00101ZM7.59844 8.23416C7.65902 8.23458 7.71741 8.21148 7.7613 8.16971C7.8052 8.12793 7.83119 8.07074 7.8338 8.01018C7.83675 7.94957 7.81605 7.8902 7.77608 7.84456C7.73611 7.79892 7.67999 7.77058 7.61954 7.76553C7.58809 7.76364 7.55658 7.76827 7.52698 7.77909C7.49739 7.78992 7.47034 7.80672 7.44752 7.82847C7.42471 7.85022 7.40661 7.87644 7.39437 7.9055C7.38213 7.93455 7.37601 7.96581 7.37638 7.99734C7.37525 8.05798 7.39782 8.11666 7.4393 8.1609C7.48077 8.20514 7.53787 8.23142 7.59844 8.23416Z"
                  fill="#5E666E"
                  stroke="#5E666E"
                  strokeWidth="0.5"
                />
              </svg>
              ოთახების რაოდენობა: {data.room}
            </div>
            <div>
              <svg
                className="mr-10"
                width="16"
                height="13"
                viewBox="0 0 16 13"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M14.9993 9.62074C14.9308 9.76424 14.8185 9.80011 14.6727 9.80011C13.9803 9.79473 13.2876 9.7976 12.5952 9.7976H12.4316V9.96406C12.4316 10.5321 12.4316 11.1001 12.4316 11.6682C12.4316 11.9211 12.3552 11.9996 12.1114 12H3.89696C3.64357 12 3.57029 11.9239 3.56995 11.661C3.56995 11.0977 3.56995 10.5345 3.56995 9.97124V9.7976H1.32134C1.07651 9.7976 1.00186 9.71975 1.00152 9.46575C1.00152 9.04098 0.998098 8.61622 1.00152 8.19109C1.01659 6.66782 1.65689 5.5363 2.94094 4.81126L2.99813 4.77825C2.86561 4.563 2.71187 4.35743 2.60572 4.1289C1.99281 2.81191 2.81973 1.22083 4.20684 1.02531C4.67072 0.958351 5.14271 1.05423 5.54909 1.29796C5.68606 1.37761 5.73297 1.50461 5.67544 1.63089C5.61792 1.75717 5.48061 1.81027 5.33953 1.73062C4.9913 1.53582 4.62937 1.45115 4.23388 1.51322C3.48332 1.63089 2.89609 2.33082 2.86767 3.15596C2.83993 3.95347 3.40115 4.7083 4.13836 4.86651C4.3932 4.92251 4.65666 4.91921 4.91015 4.85682C5.08135 4.81449 5.20531 4.87871 5.2375 5.01934C5.27174 5.17145 5.18784 5.28482 5.01184 5.32894C4.52611 5.45842 4.01206 5.39915 3.56482 5.16212C3.50093 5.13342 3.42894 5.13162 3.36382 5.1571C2.19414 5.69057 1.56 6.62979 1.47542 7.96077C1.44734 8.40204 1.47097 8.8469 1.47097 9.29965H3.58776C3.8182 7.58408 4.67662 6.34745 6.16132 5.56859C5.56039 4.8744 5.31488 4.06684 5.48917 3.1434C5.60068 2.52128 5.92928 1.96494 6.41094 1.58282C7.46386 0.732566 8.88487 0.822974 9.81109 1.78623C10.7233 2.73514 10.8904 4.389 9.84088 5.5668C11.3174 6.33956 12.1742 7.58408 12.4114 9.30037H14.5124C14.5169 9.29534 14.5282 9.28817 14.5282 9.28099C14.5155 8.57747 14.6079 7.86642 14.4018 7.17653C14.1138 6.2122 13.5225 5.53415 12.6298 5.14992C12.5681 5.12737 12.5006 5.13019 12.4408 5.15782C11.9898 5.39776 11.4709 5.45769 10.9808 5.32643C10.8133 5.28374 10.7315 5.17396 10.7609 5.02507C10.789 4.88157 10.914 4.81556 11.0831 4.85251C12.0008 5.05414 12.8062 4.57376 13.0664 3.66862C13.1563 3.35056 13.1545 3.01177 13.0613 2.69475C12.9681 2.37774 12.7876 2.09662 12.5425 1.88668C12.0073 1.43644 11.4163 1.3672 10.7883 1.66102C10.7305 1.68829 10.675 1.72273 10.6171 1.74605C10.5644 1.76966 10.505 1.77126 10.4511 1.75052C10.3973 1.72978 10.3531 1.68827 10.3275 1.63448C10.273 1.5229 10.2977 1.38335 10.4127 1.32416C10.5942 1.22729 10.7805 1.12899 10.976 1.07554C11.9005 0.824407 12.814 1.22621 13.3109 2.08938C13.7793 2.90304 13.6721 3.94666 13.0452 4.67744C13.0243 4.70184 13.0051 4.72803 12.9928 4.74309C13.2325 4.91171 13.4828 5.05951 13.7029 5.24535C14.4412 5.87174 14.8624 6.68719 14.9753 7.67664C14.9817 7.71296 14.9899 7.74889 15 7.78426L14.9993 9.62074ZM11.9645 11.5056C11.9645 10.9094 11.9851 10.3271 11.9608 9.74773C11.8864 7.98301 11.0763 6.72629 9.54709 5.97721C9.44985 5.9295 9.38102 5.94133 9.29816 5.99766C8.99601 6.19536 8.65471 6.31807 8.30037 6.35641C7.74021 6.42959 7.17292 6.30174 6.69103 5.99371C6.6403 5.95963 6.57917 5.94682 6.51983 5.95784C6.40307 5.9977 6.29042 6.04975 6.18358 6.11318C4.7975 6.91464 4.08243 8.14481 4.03837 9.8037C4.02467 10.3329 4.03597 10.8627 4.03631 11.3926C4.03631 11.4285 4.04248 11.4644 4.0459 11.5053L11.9645 11.5056ZM7.99802 5.88752C9.14476 5.89147 10.0926 4.90453 10.1015 3.69696C10.1104 2.48939 9.15845 1.48882 8.00281 1.48667C6.85368 1.48667 5.91 2.46751 5.89938 3.67723C5.88911 4.88301 6.84101 5.88394 7.99802 5.88752Z"
                  fill="#5E666E"
                  stroke="#5E666E"
                  strokeWidth="0.5"
                />
              </svg>
              რამდენ ადამიანზე ქირავდება: {data.capacity}
            </div>
            <div className="green d-flex align-items-center">
              <svg
                width="16"
                className="mr-10"
                height="13"
                viewBox="0 0 16 13"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15 7.78782V9.62092C14.9315 9.76441 14.8192 9.80028 14.6733 9.80028C13.9809 9.79526 13.2882 9.79813 12.5954 9.79813H12.4318V9.96422C12.4318 10.5324 12.4318 11.1006 12.4318 11.6685C12.4318 11.9214 12.3554 12 12.1116 12H3.89626C3.64286 12 3.56958 11.9239 3.56958 11.661C3.56958 11.0978 3.56958 10.5346 3.56958 9.9714V9.7967H3.41274C2.71555 9.7967 2.01836 9.7967 1.32117 9.7967C1.07667 9.7967 1.00202 9.71885 1.00167 9.46523C1.00167 9.04014 0.997907 8.61541 1.00167 8.19067C1.01708 6.66716 1.65709 5.53609 2.94155 4.8111L2.99875 4.77774C2.86588 4.5625 2.71247 4.35695 2.60598 4.1288C1.99336 2.81192 2.81999 1.2206 4.20753 1.02509C4.67132 0.958305 5.14319 1.05416 5.54953 1.29773C5.6865 1.37772 5.73376 1.50471 5.67623 1.63063C5.6187 1.75654 5.48138 1.80999 5.33996 1.73035C4.99205 1.53556 4.62975 1.45126 4.23458 1.51296C3.48363 1.63063 2.89636 2.33086 2.86793 3.15558C2.84054 3.95339 3.40144 4.70779 4.1387 4.86599C4.39354 4.92217 4.65706 4.91886 4.91055 4.8563C5.08176 4.81433 5.20607 4.87818 5.23826 5.01916C5.2725 5.17126 5.18826 5.28426 5.01259 5.32874C4.52681 5.45804 4.01278 5.3988 3.56547 5.16194C3.50161 5.13305 3.42956 5.13125 3.36446 5.15692C2.19471 5.69034 1.56053 6.6277 1.4756 7.96037C1.44753 8.40125 1.47149 8.84607 1.47149 9.29878H3.58842C3.81887 7.58335 4.67735 6.34681 6.16214 5.56802C5.56083 4.87424 5.31531 4.06639 5.48995 3.14338C5.60146 2.5213 5.93008 1.96501 6.41178 1.58292C7.46476 0.732375 8.88586 0.82313 9.81214 1.78631C10.724 2.73479 10.8911 4.38888 9.84193 5.56622C11.3185 6.3394 12.1754 7.58383 12.4126 9.2995H14.5137C14.5182 9.29448 14.5295 9.2873 14.5292 9.28049C14.5165 8.57702 14.6093 7.86566 14.4031 7.17583C14.1148 6.21157 13.5234 5.53394 12.6307 5.14974C12.5692 5.12706 12.5017 5.12976 12.442 5.15728C11.991 5.39732 11.472 5.45737 10.9819 5.32624C10.8144 5.28355 10.7323 5.17378 10.7617 5.0249C10.7901 4.88141 10.9151 4.81505 11.0839 4.852C12.002 5.0536 12.8074 4.57363 13.0673 3.6682C13.1572 3.3502 13.1555 3.01145 13.0624 2.69446C12.9692 2.37748 12.7888 2.09637 12.5437 1.8864C12.0082 1.4362 11.4171 1.36732 10.7894 1.66112C10.7312 1.68838 10.6761 1.72282 10.6182 1.74578C10.5654 1.76949 10.506 1.77115 10.452 1.7504C10.3981 1.72966 10.3538 1.68809 10.3282 1.63421C10.2737 1.52301 10.2987 1.38526 10.4138 1.32392C10.5949 1.22742 10.7816 1.12877 10.9768 1.07568C11.9013 0.824567 12.8153 1.22634 13.3121 2.08944C13.7806 2.90303 13.6734 3.94621 13.0461 4.67694C13.0252 4.70133 13.006 4.72752 12.994 4.74294C13.2337 4.91119 13.484 5.05934 13.7039 5.24516C14.4422 5.8715 14.8634 6.68689 14.9767 7.6759C14.9822 7.71369 14.99 7.75108 15 7.78782Z"
                  fill="#19A463"
                  stroke="#19A463"
                  strokeWidth="0.5"
                />
              </svg>

              <span>
                ქირის თანხა <br /> თითო ადამიანისთვის: {data.each_pay} ₾
              </span>
            </div>
          </div>
          <div className="houseCard_footer">
            <div>
              <svg
                width="13"
                height="18"
                viewBox="0 0 13 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.5 17.2522C6.33391 17.0636 6.1183 16.8146 5.86773 16.5153C5.26494 15.7955 4.46213 14.788 3.66036 13.6362C2.85757 12.483 2.06237 11.1944 1.46949 9.9117C0.873426 8.62215 0.5 7.37688 0.5 6.3C0.5 3.10776 3.16773 0.5 6.5 0.5C9.83227 0.5 12.5 3.10776 12.5 6.3C12.5 7.37688 12.1266 8.62215 11.5305 9.9117C10.9376 11.1944 10.1424 12.483 9.33964 13.6362C8.53787 14.788 7.73506 15.7955 7.13227 16.5153C6.8817 16.8146 6.66608 17.0636 6.5 17.2522ZM3.67857 6.3C3.67857 7.83276 4.95727 9.05 6.5 9.05C8.04273 9.05 9.32143 7.83276 9.32143 6.3C9.32143 4.76724 8.04273 3.55 6.5 3.55C4.95727 3.55 3.67857 4.76724 3.67857 6.3Z"
                  stroke="#5E666E"
                />
              </svg>
              <span>გლდანი</span>
            </div>
            <div className="d-flex">
              <span className="price">
                <span>{data.price}</span>
                <svg
                  width="11"
                  height="14"
                  viewBox="0 0 11 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.93932 7.80797V5.49113C5.93932 4.94187 5.93424 4.39194 5.93932 3.84268C5.9425 3.6596 5.88851 3.57344 5.70683 3.57748C5.48832 3.58421 5.26854 3.57748 5.01699 3.57748V7.80797H3.43721V4.37511C3.05468 4.71056 2.76568 5.15015 2.60127 5.64662C2.10263 7.13553 2.07468 8.64128 2.64637 10.108C3.16217 11.4327 4.15755 12.0856 5.50484 12.1017C6.93343 12.1186 8.3633 12.1051 9.79126 12.1051H10.147V14.0012H0.218584V12.2815H1.64718C1.48012 12.0735 1.31751 11.8635 1.14663 11.6602C0.481564 10.8699 0.150617 9.92422 0.0521587 8.891C-0.10601 7.23044 0.0686741 5.6271 0.899534 4.16106C1.41669 3.22484 2.21614 2.50028 3.16915 2.10404C3.38068 2.01452 3.44865 1.90211 3.44103 1.66383C3.42451 1.11726 3.43595 0.569353 3.43595 -0.000770569H5.00556V1.62277H5.94059V-9.68023e-05H7.52291C7.52291 0.570027 7.5299 1.13746 7.5191 1.70489C7.51592 1.88596 7.56039 1.98557 7.72872 2.0576C9.44951 2.79263 10.363 4.22164 10.7492 6.07875C10.866 6.64282 10.915 7.22304 11.0001 7.82884H8.73236C8.67392 6.54993 8.50559 5.32756 7.52545 4.32867V7.80191L5.93932 7.80797Z"
                    fill="#484848"
                  />
                </svg>
              </span>
              <span className="smallText"> ჯამური ქირა</span>
            </div>
          </div>
        </div>
      </a>
    </Link>
  );
};

export default HouseCard;
